---
apiVersion: v1
kind: Secret
metadata:
  name: root-password
type: Opaque
---
apiVersion: v1
kind: Secret
metadata:
  name: db-password
type: Opaque
---
apiVersion: k8s.mariadb.com/v1alpha1
kind: MariaDB
metadata:
  name: mariadb-librenms
spec:
  replicas: 3
  galera:
    enabled: true
    config:
      reuseStorageVolume: true
  username: librenms
  passwordSecretKeyRef:
    name: db-password
    key: password
    generate: true
  rootPasswordSecretKeyRef:
    name: root-password
    key: password
    generate: true
  database: librenms
  storage:
    size: 16Gi
    storageClassName: local-path
